(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var n,o=c(0),l=c(26),a=c.n(l),r=c(12),i=(c(35),c(36),c(37),c(2)),s=c(11),u=c(7),d=c(5);!function(e){e.all="all",e.active="active",e.completed="completed"}(n||(n={}));var j=c(3),b=function(e){var t=e.onAddTodo,c=Object(o.useState)(""),n=Object(d.a)(c,2),l=n[0],a=n[1];return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("h1",{children:"todos"}),Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),l.trim()&&(t(l),a(""))},children:Object(j.jsx)("input",{value:l,onChange:function(e){a(e.target.value)},type:"text","data-cy":"createTodo",className:"new-todo",placeholder:"What needs to be done?"})})]})},m=c(22),O=c.n(m),f=function(e){var t=e.todo,c=e.toggleCompleted,n=e.onRemoveTodo,l=e.onRename,a=Object(o.useState)(!1),r=Object(d.a)(a,2),i=r[0],s=r[1],u=Object(o.useState)(t.title),b=Object(d.a)(u,2),m=b[0],f=b[1],p=Object(o.useRef)(null),h=function(){if(!m.length||!m.trim())return n(t.id),void s(!1);l(t.id,m),s(!1)};return Object(o.useEffect)((function(){p.current&&p.current.focus()})),Object(j.jsxs)("li",{className:O()({completed:t.completed},{editing:i}),children:[Object(j.jsxs)("div",{className:"view",children:[Object(j.jsx)("input",{type:"checkbox",className:"toggle",id:"toggle-view",checked:t.completed,onChange:function(){c(t.id)}}),Object(j.jsx)("label",{onDoubleClick:function(){s(!0)},children:m}),Object(j.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo","aria-label":"button",onClick:function(){return n(t.id)}})]}),Object(j.jsx)("input",{type:"text",className:"edit",value:m,ref:p,onChange:function(e){f(e.target.value)},onKeyDown:function(e){"Enter"!==e.key?"Escape"===e.key&&(f(t.title),s(!1)):h()},onBlur:h})]})},p=function(e){var t=e.todos,c=e.toggleCompleted,n=e.onRemoveTodo,o=e.onRename;return Object(j.jsx)("ul",{className:"todo-list","data-cy":"todoList",children:t.map((function(e){return Object(j.jsx)(f,{todo:e,toggleCompleted:c,onRemoveTodo:n,onRename:o},e.id)}))})},h=function(e){var t=e.to,c=e.title;return Object(j.jsx)(r.b,{to:t,className:function(e){var t=e.isActive;return O()({selected:t})},children:c})},x=function(){return Object(j.jsxs)("ul",{className:"filters","data-cy":"todosFilter",children:[Object(j.jsx)("li",{children:Object(j.jsx)(h,{to:"/",title:"all"})}),Object(j.jsx)("li",{children:Object(j.jsx)(h,{to:"/active",title:"active"})}),Object(j.jsx)("li",{children:Object(j.jsx)(h,{to:"/completed",title:"completed"})})]})},v=function(e){var t=e.todos,c=e.onRemoveAllCompletedTodos,n=Object(o.useMemo)((function(){return t.filter((function(e){return!e.completed}))}),[t]),l=Object(o.useMemo)((function(){return t.filter((function(e){return e.completed})).length}),[t]);return Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(n.length," items left")}),Object(j.jsx)(x,{}),!!l&&Object(j.jsx)("button",{type:"button",className:"clear-completed",onClick:c,children:"Clear completed"})]})},g=function(){var e=function(e,t){var c=Object(o.useState)((function(){try{var c=localStorage.getItem(e);return c?JSON.parse(c):t}catch(n){return t}})),n=Object(d.a)(c,2),l=n[0],a=n[1];return[l,function(t){a(t),localStorage.setItem(e,JSON.stringify(t))}]}("todos",[]),t=Object(d.a)(e,2),c=t[0],l=t[1],a=Object(i.k)(),r=Object(o.useMemo)((function(){return c.filter((function(e){switch(a.pathname.slice(1)){case n.active:return!e.completed;case n.completed:return e.completed;case n.all:default:return e}}))}),[c,a]),m=Object(o.useMemo)((function(){return c.every((function(e){return e.completed}))}),[c]),O=Object(o.useCallback)((function(e){var t=c.filter((function(t){return t.id!==e}));l(t)}),[c]);return Object(j.jsxs)("div",{className:"todoapp",children:[Object(j.jsx)(b,{onAddTodo:function(e){var t={id:+new Date,completed:!1,title:e};l([].concat(Object(u.a)(c),[t]))}}),Object(j.jsxs)("section",{className:"main",children:[!!c.length&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:m,onChange:function(){var e=c.every((function(e){return e.completed})),t=c.map((function(t){return Object(s.a)(Object(s.a)({},t),{},{completed:!e})}));l(t)}}),Object(j.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"})]}),Object(j.jsx)(p,{toggleCompleted:function(e){var t=c.map((function(t){return t.id===e?Object(s.a)(Object(s.a)({},t),{},{completed:!t.completed}):t}));l(t)},todos:r,onRemoveTodo:O,onRename:function(e,t){l(c.map((function(c){return c.id!==e?c:Object(s.a)(Object(s.a)({},c),{},{title:t})})))}})]}),!!c.length&&Object(j.jsx)(v,{todos:c,onRemoveAllCompletedTodos:function(){var e=c.filter((function(e){return!e.completed}));l(e)}})]})},y=function(){return Object(j.jsx)(i.c,{children:Object(j.jsxs)(i.a,{path:"/",children:[Object(j.jsx)(i.a,{index:!0,element:Object(j.jsx)(g,{})}),Object(j.jsx)(i.a,{path:"/active",element:Object(j.jsx)(g,{})}),Object(j.jsx)(i.a,{path:"/completed",element:Object(j.jsx)(g,{})})]})})};a.a.createRoot(document.getElementById("root")).render(Object(j.jsx)(r.a,{children:Object(j.jsx)(y,{})}))}},[[40,1,2]]]);
//# sourceMappingURL=main.6765ef06.chunk.js.map